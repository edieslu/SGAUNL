<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/WEB-INF/templates/plantilla.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">


    <f:metadata>
        <f:viewParam name="anioLectivoId" value="#{anioLectivoController.anioLectivoId}"/>
    </f:metadata>



    <ui:define name="content">
        <!--    #{loginController.accesoURL(true, "/faces/anioLectivo/Edit.xhtml")}-->

        <h:form id="formEdit" styleClass="form-horizontal" prependId="false">

            <p:messages autoUpdate="true" closable="true"/>

            <p:panel header="#{anioLectivoController.anioLectivoId!=null  ? bundle['boton.editar'] : bundle['boton.nuevo']}" 
                     id="panelEditAnio">


               

                    <h:panelGroup id="duracion" layout="block" class="control-group" rendered="true">

                        <h:outputLabel value="#{bundle['anioController.fechainicio']}" 
                                       styleClass="control-label"/>
                        <div class="controls">
                            <p:calendar label="#{bundle['anioController.fechainicio']}" 
                                        required="true" 
                                        navigator="true" 
                                        value="#{anioLectivoController.current.fechaInicio}"/>
                            <h:graphicImage value="#{resource['success.gif']}" 
                                            styleClass="validation-status" />
                            <span class="help-block">Ingrese una fecha de inicio</span>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup styleClass="control-group" layout="block">
                        <h:outputLabel value="#{bundle['anioController.fechafin']}"
                                       styleClass="control-label"/>

                        <div class="controls">
                            <p:calendar label="#{bundle['anioController.fechafin']}" 
                                        value="#{anioLectivoController.current.fechaFin}" 
                                        navigator="true" 
                                        required="true"/>

                            <span class="help-block">Ingrese una fecha final</span>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup styleClass="control-group" layout="block">
                        <h:outputLabel styleClass="control-label" value="#{bundle['anioController.duracion']}"/>
                        <div class="controls">
                            <p:inputText label="#{bundle['anioController.duracion']}" 
                                         value="#{anioLectivoController.current.duracion}">
                                <p:ajax process="@this" partialSubmit="@this" update="@form"/>
                            </p:inputText>
                            <p:graphicImage id="image" value="#{resource['success.gif']}" rendered="#{not empty anioController.current.duracion}"
                                            styleClass="validation-status" />
                        </div>
                    </h:panelGroup>


                    <h:panelGroup styleClass="control-group" layout="block">
                        <h:outputLabel value="#{bundle['anioController.anioActivo']}"
                                       styleClass="control-label"/>
                        <div class="controls">
                            <p:selectBooleanButton value="#{anioLectivoController.current.estado}" 
                                                   onLabel="#{bundle['boton.si']}" offLabel="#{bundle['boton.no']}"/>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup styleClass="control-group" layout="block">
                        <h:outputLabel value="#{bundle['anioController.periodoMatriculas']}"
                                       styleClass="control-label"/>
                        <div class="controls">
                            <p:calendar label="#{bundle['anioController.periodoMatriculas']}" 
                                        value="#{anioLectivoController.current.periodoMatriculas}" 
                                        navigator="true" 
                                        required="true"/>
                        </div>
                    </h:panelGroup>

                    <h:panelGroup styleClass="control-group" layout="block">
                        <h:outputLabel value="#{bundle['anioController.periodoFinMatriculas']}"
                                       styleClass="control-label"/>
                        <div class="controls">
                            <p:calendar label="#{bundle['anioController.periodoFinMatriculas']}" 
                                        value="#{anioLectivoController.current.periodoFinMatriculas}" 
                                        navigator="true" 
                                        required="true"/>
                        </div>
                    </h:panelGroup>

               </p:panel>
            
            
            <div class="form-actions">
                <p:commandButton value="#{bundle['boton.actualizar']}" 
                                 rendered="#{anioLectivoController.anioLectivoId!=null}"
                                 action="#{anioLectivoController.update()}"
                                 update="panelEditAnio"
                                 styleClass="btn btn-primary"/>


                <p:commandButton value="#{bundle['boton.guardar']}" 
                                 rendered="#{anioLectivoController.anioLectivoId == null}"
                                 action="#{anioLectivoController.persist()}"
                                 update="panelEditAnio"
                                 styleClass="btn btn-primary"/> #{' '}

                <p:commandButton value="#{bundle['boton.guardar.agregar']}" 
                                 rendered="#{anioLectivoController.anioLectivoId == null}"
                                 action="#{anioLectivoController.persistOther()}"
                                 update="panelEditAnio"
                                 styleClass="btn"/>#{' '}



                <p:commandButton value="#{bundle['boton.cancelar']}" 
                                 action="#{anioLectivoController.cancelEdit()}"
                                 immediate="true" 
                                 styleClass="btn"/>


            </div> 



        </h:form>
    </ui:define>
</ui:composition>


